{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/collections/Dictionary.ts","webpack:///./src/commons/BaseObject.ts","webpack:///./src/commons/console.ts","webpack:///./src/commons/lang.ts","webpack:///./src/commons/random.ts","webpack:///./src/events/EventEmitter.ts","webpack:///./src/events/Events.ts","webpack:///./src/launcher.ts","webpack:///./src/socket/SocketService.ts","webpack:///./src/socket/WebSocketChannel.ts"],"names":[],"mappings":"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","file":"vws.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/launcher.ts\");\n","interface Items<T> {\n    [index: string]: T;\n}\n\nexport type Keys = string[];\nexport type Values<T> = T[];\n\nexport class Dictionary<T> {\n\n    // ------------------------------------------------------------------------\n    //                      f i e l d s\n    // ------------------------------------------------------------------------\n\n    private _items: Items<T> = {};\n    private _count: number = 0;\n\n    // ------------------------------------------------------------------------\n    //                      c o n s t r u c t o r\n    // ------------------------------------------------------------------------\n\n    constructor(o?: Items<T>) {\n        if (!!o) {\n            for (let key in o) {\n                if (o.hasOwnProperty(key)) {\n                    this.put(key, o[key]);\n                }\n            }\n        }\n    }\n\n    // ------------------------------------------------------------------------\n    //                      p u b l i c\n    // ------------------------------------------------------------------------\n\n    public putAll(data: Dictionary<T> | Items<T>) {\n        let items;\n        if (data instanceof Dictionary) {\n            items = data._items;\n        } else {\n            items = data;\n        }\n        for (let key in items) {\n            if (items.hasOwnProperty(key)) {\n                this.put(key, items[key]);\n            }\n        }\n    }\n\n    public put(key: string, value: T) {\n        this._items[key] = value;\n        this._count++;\n    }\n\n    public get(key: string): T {\n        return this._items[key];\n    }\n\n    public containsKey(key: string): boolean {\n        return this._items.hasOwnProperty(key);\n    }\n\n    public count(): number {\n        return this._count;\n    }\n\n    public isEmpty(): boolean {\n        return this._count === 0;\n    }\n\n    public keys(): Keys {\n        let Keys: Keys = [];\n        // tslint:disable-next-line:forin\n        for (let key in this._items) {\n            Keys.push(key);\n        }\n        return Keys;\n    }\n\n    public remove(key: string): T {\n        let val = this._items[key];\n        delete this._items[key];\n        this._count--;\n        return val;\n    }\n\n    public values(): Values<T> {\n        let values: Values<T> = [];\n        // tslint:disable-next-line:forin\n        for (let key in this._items) {\n            values.push(this._items[key]);\n        }\n        return values;\n    }\n\n    public clear(): void {\n        if (!this.isEmpty()) {\n            this._items = {};\n        }\n    }\n\n}\n","import random from \"./random\";\n\nabstract class BaseObject {\n\n    // ------------------------------------------------------------------------\n    //                      c o n s t\n    // ------------------------------------------------------------------------\n\n    public static PREFIX: string = \"lyts_object_\";\n\n    // ------------------------------------------------------------------------\n    //                      f i e l d s\n    // ------------------------------------------------------------------------\n\n    private readonly _uid: string;\n\n\n    // ------------------------------------------------------------------------\n    //                      c o n s t r u c t o r\n    // ------------------------------------------------------------------------\n\n    constructor() {\n        this._uid = random.uniqueId(BaseObject.PREFIX);\n    }\n\n    // ------------------------------------------------------------------------\n    //                      p u b l i c\n    // ------------------------------------------------------------------------\n\n    public get uid(): string {\n        return this._uid;\n    }\n\n    // ------------------------------------------------------------------------\n    //                      p r o t e c t e d\n    // ------------------------------------------------------------------------\n\n    // ------------------------------------------------------------------------\n    //                      p r i v a t e\n    // ------------------------------------------------------------------------\n\n    // ------------------------------------------------------------------------\n    //                      S T A T I C\n    // ------------------------------------------------------------------------\n\n\n}\n\n// ------------------------------------------------------------------------\n//                      e x p o r t s\n// ------------------------------------------------------------------------\n\nexport default BaseObject;","/**\n * Extends standard console\n */\nimport random from \"./random\";\nimport {Dictionary} from \"../collections/Dictionary\";\n\nenum LogLevel {\n    error = 0,\n    warn = 1,\n    info = 2,\n    debug = 3\n}\n\nclass console_ext {\n\n    // ------------------------------------------------------------------------\n    //                      c o n s t\n    // ------------------------------------------------------------------------\n\n    // ------------------------------------------------------------------------\n    //                      f i e l d s\n    // ------------------------------------------------------------------------\n\n    private readonly _class_levels: Dictionary<LogLevel>;\n\n    private _uid: string;\n    private _level: LogLevel;\n\n    // ------------------------------------------------------------------------\n    //                      c o n s t r u c t o r\n    // ------------------------------------------------------------------------\n\n    private constructor() {\n        this._uid = random.guid();\n        this._level = LogLevel.info;\n\n        this._class_levels = new Dictionary();\n    }\n\n    // ------------------------------------------------------------------------\n    //                      p r o p e r t i e s\n    // ------------------------------------------------------------------------\n\n    public get uid() {\n        return this._uid;\n    }\n\n    public set uid(value: string) {\n        this._uid = value;\n    }\n\n    public get level(): LogLevel {\n        return this._level;\n    }\n\n    public set level(value: LogLevel) {\n        this._level = value;\n    }\n\n    // ------------------------------------------------------------------------\n    //                      p u b l i c\n    // ------------------------------------------------------------------------\n\n    public setClassLevel(class_name: string, level: LogLevel) {\n        this._class_levels.put(class_name, level);\n    }\n\n    public error(scope: string, error: Error | string, ...args: any[]): void {\n        console.error(\"[\" + this.uid + \"] \" + scope, error, ...args);\n    };\n\n    public warn(scope: string, ...args: any[]): void {\n        if (this.getLevel(scope) < LogLevel.warn) {\n            return;\n        }\n        console.warn(\"[\" + this.uid + \"] \" + scope, ...args);\n    };\n\n    public info(scope: string, ...args: any[]): void {\n        if (this.getLevel(scope) < LogLevel.info) {\n            return;\n        }\n        console.info(\"[\" + this.uid + \"] \" + scope, ...args);\n    };\n\n    public debug(scope: string, ...args: any[]): void {\n        if (this.getLevel(scope) < LogLevel.debug) {\n            return;\n        }\n        console.log(\"[\" + this.uid + \"] \" + scope, ...args);\n    };\n\n    public log(scope: string, ...args: any[]): void {\n        if (this.getLevel(scope) < LogLevel.info) {\n            return;\n        }\n        console.log(\"[\" + this.uid + \"] \" + scope, ...args);\n    }\n\n    // ------------------------------------------------------------------------\n    //                      p r i v a t e\n    // ------------------------------------------------------------------------\n\n    private getLevel(scope?: string): LogLevel {\n        if (!!scope) {\n            const class_name: string = scope.split(\".\")[0];\n            if (this._class_levels.containsKey(class_name)) {\n                return this._class_levels.get(class_name);\n            }\n        }\n        return this.level;\n    }\n\n    // ------------------------------------------------------------------------\n    //                      S I N G L E T O N\n    // ------------------------------------------------------------------------\n\n    private static __instance: console_ext;\n\n    public static instance(): console_ext {\n        if (null == console_ext.__instance) {\n            console_ext.__instance = new console_ext();\n        }\n        return console_ext.__instance;\n    }\n\n}\n\n// ------------------------------------------------------------------------\n//                      e x p o r t\n// ------------------------------------------------------------------------\n\nexport default console_ext.instance();\nexport {LogLevel};\n\n","/**\n * Utility class\n */\n\nclass langClass {\n\n    // ------------------------------------------------------------------------\n    //                      f i e l d s\n    // ------------------------------------------------------------------------\n\n\n    // ------------------------------------------------------------------------\n    //                      c o n s t r u c t o r\n    // ------------------------------------------------------------------------\n\n    constructor() {\n\n    }\n\n    // ------------------------------------------------------------------------\n    //                      p u b l i c\n    // ------------------------------------------------------------------------\n\n    public get window():any{\n          return window;\n    }\n\n    public parse(value: any): any {\n        try {\n            if (this.isString(value)) {\n                return JSON.parse(value);\n            }\n        } catch (err) {\n        }\n        return value;\n    }\n\n    // ------------------------------------------------------------------------\n    //                      t o\n    // ------------------------------------------------------------------------\n\n    public toString(value: any): string {\n        switch (typeof value) {\n            case 'string':\n            case 'number':\n            case 'boolean':\n                return value + '';\n            case 'object':\n                try {\n                    // null is an object but is falsy. Swallow it.\n                    return value === null ? '' : JSON.stringify(value);\n                } catch (jsonError) {\n                    return '{...}';\n                }\n            default:\n                // Anything else will be replaced with an empty string\n                // For example: undefined, Symbol, etc.\n                return '';\n        }\n    }\n\n    public toArray<T>(value: any | any[]) {\n        return !!value\n            ? this.isArray(value) ? value as Array<T> : [value as T]\n            : [];\n    }\n\n    public toBoolean(value: any, def_val: boolean): boolean {\n        return !!value\n            ? value !== 'false' && value !== '0'\n            : def_val;\n    }\n\n    public toFloat(value: any, def_value: number = 0.0, min?: number, max?: number): number {\n        try {\n            let result = parseFloat(value.replace(/,/g, '.'));\n            result = this.isNaN(result) ? def_value : result;\n            if (!this.isNaN(max) && result > (max || 0)) result = max || 0;\n            if (!this.isNaN(min) && result < (min || 0)) result = min || 0;\n            return result;\n        } catch (err) {\n            return def_value;\n        }\n    }\n\n    public toInt(value: any, def_value: number = 0, min?: number, max?: number): number {\n        try {\n            let result = parseInt(value);\n            result = this.isNaN(result) ? def_value : result;\n            if (!this.isNaN(max) && result > (max || 0)) result = max || 0;\n            if (!this.isNaN(min) && result < (min || 0)) result = min || 0;\n            return result;\n        } catch (err) {\n            return def_value;\n        }\n    }\n\n    // ------------------------------------------------------------------------\n    //                      i s\n    // ------------------------------------------------------------------------\n\n    public isFunction(value: any): boolean {\n        return typeof value == 'function';\n    }\n\n    public isObject(value: any): boolean {\n        return value === Object(value);\n    }\n\n    public isArray(value: any): boolean {\n        return !!Array.isArray\n            ? Array.isArray(value)\n            : value && typeof value == 'object' && typeof value.length == 'number' && toString.call(value) == '[object Array]' || false;\n    }\n\n    public isArguments(value: any): boolean {\n        return value && typeof value == 'object' && typeof value.length == 'number' &&\n            toString.call(value) == '[object Arguments]' || false;\n    }\n\n    public isBoolean(value: any): boolean {\n        return value === true || value === false ||\n            value && typeof value == 'object' && toString.call(value) == '[object Boolean]' || false;\n    }\n\n    public isString(value: any): boolean {\n        return typeof value == 'string' ||\n            value && typeof value == 'object' && toString.call(value) == '[object String]' || false;\n    }\n\n    public isNumber(value: any): boolean {\n        return typeof value == 'number' ||\n            value && typeof value == 'object' && toString.call(value) == '[object Number]' || false;\n    }\n\n    public isNaN(value: any): boolean {\n        return isNaN(value);\n    }\n\n    static isDate(value: any): boolean {\n        return value && typeof value == 'object' && toString.call(value) == '[object Date]' || false;\n    }\n\n\n    // ------------------------------------------------------------------------\n    //                      u t i l s\n    // ------------------------------------------------------------------------\n\n    /**\n     * Invoke a function. Shortcut for \"func.call(this, ...args)\"\n     */\n    public funcInvoke(func?: Function, ...args: any[]): any {\n        const self = this;\n        if (!!func && self.isFunction(func)) {\n            if (args.length === 0) {\n                return func.call(self);\n            } else {\n                return func.call(self, ...args);\n            }\n        }\n        return null;\n    }\n\n    /**\n     * Delays a function for the given number of milliseconds, and then calls\n     * it with the arguments supplied.\n     * NOTE: user \"clearTimeout\" with funcDelay response to\n     */\n    public funcDelay(func: Function, wait: number, ...args: any[]): any {\n        return setTimeout(function () {\n            return func.call(null, ...args);\n        }, wait);\n    }\n\n    // ------------------------------------------------------------------------\n    //                      p r i v a t e\n    // ------------------------------------------------------------------------\n\n\n    // ------------------------------------------------------------------------\n    //                      S I N G L E T O N\n    // ------------------------------------------------------------------------\n\n    private static __instance: langClass;\n\n    public static instance(): langClass {\n        if (null == langClass.__instance) {\n            langClass.__instance = new langClass();\n        }\n        return langClass.__instance;\n    }\n\n\n}\n\n// ------------------------------------------------------------------------\n//                      e x p o r t\n// ------------------------------------------------------------------------\n\nconst lang: langClass = langClass.instance();\nexport default lang;\n\n\n","export default class random {\n\n    // ------------------------------------------------------------------------\n    //                      f i e l d s\n    // ------------------------------------------------------------------------\n\n    static _id_counter: number = 0;\n\n    // ------------------------------------------------------------------------\n    //                      random and GUID\n    // ------------------------------------------------------------------------\n\n    // A (possibly faster) way to get the current timestamp as an integer.\n    static now(): number {\n        return !!Date.now ? Date.now() : new Date().getTime();\n    }\n\n    static guid(): string {\n        return random._s4() + random._s4() + '-' + random._s4() + '-' + random._s4() + '-' +\n            random._s4() + '-' + random._s4() + random._s4() + random._s4();\n    }\n\n    static uniqueId(prefix: string): string {\n        let id = ++random._id_counter + '';\n        return prefix ? prefix + id : id;\n    }\n\n    // ------------------------------------------------------------------------\n    //                      p r i v a t e\n    // ------------------------------------------------------------------------\n\n    private static _s4(): string {\n        return Math.floor((1 + Math.random()) * 0x10000)\n            .toString(16)\n            .substring(1);\n    }\n}","import Events, {Listener} from \"./Events\";\nimport BaseObject from \"../commons/BaseObject\";\nimport {Dictionary} from \"../collections/Dictionary\";\n\n/**\n * Class that emit events with a scope.\n */\nexport default class EventEmitter\n    extends BaseObject {\n\n    // ------------------------------------------------------------------------\n    //                      f i e l d s\n    // ------------------------------------------------------------------------\n\n    private readonly _listeners: Dictionary<Events>;\n\n    // ------------------------------------------------------------------------\n    //                      c o n s t r u c t o r\n    // ------------------------------------------------------------------------\n\n    constructor() {\n        super();\n        this._listeners = new Dictionary<Events>();\n    }\n\n    // ------------------------------------------------------------------------\n    //                      p u b l i c\n    // ------------------------------------------------------------------------\n\n    public on(scope: BaseObject, eventName: string, listener: Listener): void {\n        if (!!scope) {\n            let key: string = EventEmitter.key(scope);\n            if (!this._listeners.containsKey(key)) {\n                this._listeners.put(key, new Events());\n            }\n            this._listeners.get(key).on(eventName, listener.bind(scope));\n        }\n    }\n\n    public once(scope: BaseObject, eventName: string, listener: Listener): void {\n        if (!!scope) {\n            let key: string = EventEmitter.key(scope);\n            if (!this._listeners.containsKey(key)) {\n                this._listeners.put(key, new Events());\n            }\n            this._listeners.get(key).once(eventName, listener.bind(scope));\n        }\n    }\n\n    public off(scope: BaseObject, eventName?: string): void {\n        if (!!scope) {\n            let key: string = EventEmitter.key(scope);\n            if (this._listeners.containsKey(key)) {\n                this._listeners.get(key).off(eventName);\n            }\n        }\n    }\n\n    public clear(): void {\n        if (!!this._listeners) {\n            let keys: string[] = this._listeners.keys();\n            for (let key of keys) {\n                if (this._listeners.containsKey(key)) {\n                    this._listeners.get(key).clear();\n                }\n            }\n        }\n    }\n\n    public emit(eventName: string, ...args: any[]): void {\n        if (!!this._listeners) {\n            let keys: string[] = this._listeners.keys();\n            for (let key of keys) {\n                if (this._listeners.containsKey(key)) {\n                    this._listeners.get(key).emit(eventName, ...args);\n                }\n            }\n        }\n    }\n\n    // ------------------------------------------------------------------------\n    //                      S T A T I C\n    // ------------------------------------------------------------------------\n\n    private static key(scope: BaseObject): string {\n        try {\n            return scope.uid;\n        } catch (err) {\n            console.warn(\"ApplicationEvents.key()\", \"BINDING EVENT ON DEFAULT KEY!\");\n            return '_default';\n        }\n    }\n\n}","import {Dictionary} from \"../collections/Dictionary\";\nimport lang from \"../commons/lang\";\nimport console from \"../commons/console\";\n\n\n// ------------------------------------------------------------------------\n//                      T Y P E S\n// ------------------------------------------------------------------------\n\ninterface Listener {\n    (...args: any[]): void;\n}\n\ntype Listeners = Array<Listener>;\n\n/**\n * Events controller.\n *\n * <code>\n *\n * import {Events} from \"./events/Events\";\n *\n * class MyEmitter extends Events{}\n *\n * let myEmitter = new MyEmitter();\n * myEmitter.on('event', () => {\n *   console.log('event occured')\n * });\n *\n * myEmitter.emit('event');\n *\n * </code>\n *\n *\n */\nclass Events {\n\n    // ------------------------------------------------------------------------\n    //                      C O N S T\n    // ------------------------------------------------------------------------\n\n    public static DEFAULT_MAX_LISTENERS: number = 10; // max listener for each event name\n\n    // ------------------------------------------------------------------------\n    //                      f i e l d s\n    // ------------------------------------------------------------------------\n\n    private _events = new Dictionary<Listeners>();\n\n    private _maxListeners: number = 0;\n\n    // ------------------------------------------------------------------------\n    //                      p r o p e r t i e s\n    // ------------------------------------------------------------------------\n\n    public getMaxListeners(): number {\n        return this._maxListeners === 0 ? Events.DEFAULT_MAX_LISTENERS : this._maxListeners;\n    }\n\n    public setMaxListeners(limit: number): Events {\n        this._maxListeners = limit;\n        return this;\n    }\n\n    // ------------------------------------------------------------------------\n    //                      p u b l i c\n    // ------------------------------------------------------------------------\n\n    public addListener(eventName: string, listener: Listener): Events {\n        return this.on(eventName, listener);\n    }\n\n    public on(eventName: string, listener: Listener): Events {\n        this._registerEvent(eventName, listener, false);\n        return this;\n    }\n\n    public once(eventName: string, listener: Listener): Events {\n        this._registerEvent(eventName, listener, true);\n        return this;\n    }\n\n    public off(event_names?: string | string[], listener?: Listener): Events {\n        const names: string[] = lang.isArray(event_names)\n            ? event_names as string[]\n            : !!event_names ? [event_names as string] : [];\n        if (!!listener) {\n            for (let name of names) {\n                this.removeListener(name, listener);\n            }\n        } else {\n            if (names.length > 0) {\n                this.removeAllListeners(names);\n            } else {\n                this.removeAllListeners();\n            }\n        }\n        return this;\n    }\n\n    public emit(eventName: string, ...args: any[]): boolean {\n        let listeners: Listeners = this._events.get(eventName);\n        let listenerCount = this.listenerCount(eventName);\n        if (listeners) {\n            listeners.map(listener => listener(...args));\n        }\n        return listenerCount !== 0;\n    }\n\n    public eventNames(): string[] {\n        return this._events.keys();\n    }\n\n\n    public listeners(eventName: string): Listeners {\n        return this._events.get(eventName);\n    }\n\n    public listenerCount(eventName: string): number {\n        let listeners: Listeners = this._events.get(eventName);\n        return listeners === undefined ? 0 : listeners.length;\n    }\n\n    public removeAllListeners(eventNames?: Array<string>): Events {\n        if (!eventNames) {\n            eventNames = this._events.keys();\n        }\n        eventNames.forEach(eventName => this._events.remove(eventName));\n        return this;\n    }\n\n    public removeListener(eventName: string, listener: Listener): Events {\n        let listeners: Listeners = this.listeners(eventName);\n        let filtered_listeners: Listeners = !!listeners\n            ? listeners.filter(item => item === listener) // filter only valid\n            : [];\n        this._events.put(eventName, filtered_listeners);\n        return this;\n    }\n\n    public clear(): void {\n        this._events.clear();\n    }\n\n    // ------------------------------------------------------------------------\n    //                      p r i v a t e\n    // ------------------------------------------------------------------------\n\n    private _registerEvent(eventName: string, listener: Listener, type: boolean): void {\n        if (this._listenerLimitReached(eventName)) {\n            console.warn(\"Events._registerEvent\", \"Maximum listener reached, new Listener not added\", this.getMaxListeners());\n            return;\n        }\n        if (type === true) {\n            listener = this._createOnceListener(listener, eventName);\n        }\n        let listeners = Events._createListeners(listener, this.listeners(eventName));\n        this._events.put(eventName, listeners);\n        return;\n    }\n\n    private _createOnceListener(listener: Listener, eventName: string): Listener {\n        return (...args: any[]) => {\n            this.removeListener(eventName, listener);\n            return listener(...args);\n        };\n    }\n\n    private _listenerLimitReached(eventName: string): boolean {\n        return this.listenerCount(eventName) >= this.getMaxListeners();\n    }\n\n    private static _createListeners(listener: Listener, listeners?: Listeners): Listeners {\n        if (!listeners) {\n            listeners = [];\n        }\n        listeners.push(listener);\n        return listeners;\n    }\n\n}\n\n// ------------------------------------------------------------------------\n//                      e x p o r t s\n// ------------------------------------------------------------------------\n\nexport default Events;\n\nexport {Listener, Listeners};","import BaseObject from \"./commons/BaseObject\";\nimport console, {LogLevel} from \"./commons/console\";\nimport {SocketService} from \"./socket/SocketService\";\nimport lang from \"./commons/lang\";\n\n// ------------------------------------------------------------------------\n//                      c o n s t a n t s\n// ------------------------------------------------------------------------\n\nconst DEBUG: boolean = false;\nconst VERSION: string = \"1.0.1\";\nconst UID: string = \"__vws\"\nconst ROOT: any = window\n\n/**\n * Launcher class\n */\nclass launcher\n    extends BaseObject {\n\n    // ------------------------------------------------------------------------\n    //                      f i e l d s\n    // ------------------------------------------------------------------------\n\n    // ------------------------------------------------------------------------\n    //                      c o n s t r u c t o r\n    // ------------------------------------------------------------------------\n\n    private constructor() {\n        super();\n        this.init();\n    }\n\n    // ------------------------------------------------------------------------\n    //                      p u b l i c\n    // ------------------------------------------------------------------------\n\n    public start(): void {\n        console.debug(\"launcher.start()\");\n        // creates Vanilla.Websocket builder reference\n        ROOT[UID] = {\n            version: VERSION,\n            create: this.newClient,\n\n        };\n    }\n\n    // ------------------------------------------------------------------------\n    //                      p r i v a t e\n    // ------------------------------------------------------------------------\n\n    private init(): void {\n        // init application scope\n        BaseObject.PREFIX = UID + \"_\"; // application uid become component prefix.\n        // set console prefix\n        console.uid = UID;\n        if (DEBUG) {\n            console.level = LogLevel.debug;\n        } else {\n            console.level = LogLevel.info;\n        }\n    }\n\n    private newClient(params: any): SocketService {\n        if (lang.isString(params)) {\n            params = {\n                host: params\n            };\n        } else {\n            params = params || {};\n        }\n        return new SocketService(params);\n    }\n\n    // ------------------------------------------------------------------------\n    //                      S I N G L E T O N\n    // ------------------------------------------------------------------------\n\n    private static __instance: launcher;\n\n    static instance(): launcher {\n        if (null == launcher.__instance) {\n            launcher.__instance = new launcher();\n        }\n        return launcher.__instance;\n    }\n\n}\n\n// ------------------------------------------------------------------------\n//                      S T A R T   A P P L I C A T I O N\n// ------------------------------------------------------------------------\n\n\nlauncher.instance().start();\n\n// ------------------------------------------------------------------------\n//                      e x p o r t\n// ------------------------------------------------------------------------\n\nexport {ROOT}","import EventEmitter from \"../events/EventEmitter\";\nimport {EVENT_CLOSE, EVENT_ERROR, EVENT_MESSAGE, EVENT_OPEN, WebSocketChannel} from \"./WebSocketChannel\";\nimport lang from \"../commons/lang\";\nimport {Listener} from \"../events/Events\";\n\nclass SocketService\n    extends EventEmitter {\n\n    private readonly _params: any;\n\n    private _socket: WebSocketChannel; // lazy initialized\n    private _is_connected: boolean;\n\n    // ------------------------------------------------------------------------\n    //  c o n s t r u c t o r\n    // ------------------------------------------------------------------------\n\n    constructor(params: any) {\n        super();\n        if (lang.isString(params)) {\n            this._params = {\n                host: params\n            };\n        } else {\n            this._params = params || {};\n        }\n        this._is_connected = false;\n    }\n\n    // ------------------------------------------------------------------------\n    //  p u b l i c\n    // ------------------------------------------------------------------------\n\n    public get host(): string {\n        return !!this._params ? this._params[\"host\"] || \"\" : \"\";\n    }\n\n    public get isConnected(): boolean {\n        return this._is_connected;\n    }\n\n    public send(message: any, callback?: any): void {\n        this.socket.open().ready((is_ready: boolean, error: any) => {\n            if (is_ready) {\n                this.socket.send(message, callback);\n            } else {\n                lang.funcInvoke(callback, {\"error\": error})\n            }\n        });\n    }\n\n    public close() {\n        if (!!this._socket) {\n            if (this.socket.initialized) {\n                this.socket.close();\n            }\n        }\n    }\n\n    public reset() {\n        if (!!this._socket) {\n            if (this.socket.initialized) {\n                this.socket.reset();\n            }\n        }\n    }\n\n    // @ts-ignore\n    public on(eventName: string, listener: Listener): void {\n        super.on(this, eventName, listener);\n    }\n\n    // @ts-ignore\n    public off(eventName?: string): void {\n        super.off(this, eventName);\n    }\n\n    // ------------------------------------------------------------------------\n    //  p r i v a t e\n    // ------------------------------------------------------------------------\n\n    private get socket(): WebSocketChannel {\n        if (!this._socket) {\n            // creates new socket\n            this._socket = new WebSocketChannel(this._params);\n\n            this._socket.on(this, EVENT_OPEN, this.onOpen);\n            this._socket.on(this, EVENT_CLOSE, this.onClose);\n            this._socket.on(this, EVENT_MESSAGE, this.onMessage);\n            this._socket.on(this, EVENT_ERROR, this.onError);\n\n        }\n        return this._socket;\n    }\n\n    private onOpen(): void {\n        this._is_connected = true;\n        this.emit(EVENT_OPEN);\n    }\n\n    private onClose(): void {\n        this._is_connected = false;\n        this.emit(EVENT_CLOSE);\n    }\n\n    private onMessage(data: any): void {\n        this.emit(EVENT_MESSAGE, data);\n    }\n\n    private onError(error: any): void {\n        this._is_connected = false;\n        this.emit(EVENT_ERROR, error);\n    }\n}\n\n// ------------------------------------------------------------------------\n//  E X P O R T\n// ------------------------------------------------------------------------\n\nexport {\n    SocketService,\n    EVENT_CLOSE, EVENT_MESSAGE, EVENT_OPEN, EVENT_ERROR\n}","import EventEmitter from \"../events/EventEmitter\";\nimport lang from \"../commons/lang\";\nimport random from \"../commons/random\";\n\n\nconst DEF_HOST = 'ws://localhost:8181/websocket';\nconst DEF_UID = 'mebot_web';\n\nconst EVENT_OPEN: string = 'on_open';\nconst EVENT_CLOSE: string = 'on_close';\nconst EVENT_MESSAGE: string = 'on_message';\nconst EVENT_ERROR: string = 'on_error';\n\nconst FLD_REQUEST_UUID = \"request_uuid\";\nconst FLD_REQUEST_UUID_HANDLED = \"request_uuid_handled\";\nconst FLD_REQUEST_UUID_TIMEOUT = 10 * 1000; // 10 seconds timeout\n\nclass WebSocketChannel\n    extends EventEmitter {\n\n    // ------------------------------------------------------------------------\n    //                      f i e l d s\n    // ------------------------------------------------------------------------\n\n    private readonly _host: string;\n    private _initialized: boolean;\n    private _active: boolean;\n    private _web_socket: WebSocket | null;\n    private _callback_pool: any;\n    // ------------------------------------------------------------------------\n    //                      c o n s t r u c t o r\n    // ------------------------------------------------------------------------\n\n    /**\n     * Creates a WebSocket wrapper\n     * @param params \"{host:'ws://localhost:8181/websocket'}\"\n     */\n    constructor(params?: any) {\n        super();\n        this._initialized = false;\n        this._active = false;\n        this._host = !!params ? params.host || DEF_HOST : DEF_HOST;\n        this._callback_pool = {}; // contains registered callbacks\n    }\n\n    // ------------------------------------------------------------------------\n    //                      p u b l i c\n    // ------------------------------------------------------------------------\n\n    /**\n     * Use this to pass a callback and enable message send when\n     * socket is ready to send.\n     */\n    public ready(callback: Function): void {\n        if (this._initialized) {\n            if (this._active) {\n                lang.funcInvoke(callback, true);\n            } else {\n                // timeout for ready status  (3 seconds)\n                lang.funcDelay(() => {\n                    if (!this._active) {\n                        this.off(this); // clear buffer\n                        lang.funcInvoke(callback, false, \"timeout\");\n                        // reset socket status\n                        this.free()\n                    }\n                }, 3 * 1000);\n                this.off(this); // clear buffer\n                this.on(this, EVENT_OPEN, () => {\n                    this.off(this); // clear buffer\n                    lang.funcInvoke(callback, true);\n                });\n            }\n        } else {\n            // exit not ready\n            lang.funcInvoke(callback, false, \"not initialized\");\n        }\n    }\n\n    public reset(): void {\n        this._callback_pool = {};\n        this.close();\n        this.open();\n    }\n\n    /**\n     * Socket is properly configured\n     */\n    public get initialized(): boolean {\n        return this._initialized;\n    }\n\n    /**\n     * Socket is Open\n     */\n    public get active(): boolean {\n        return this._active;\n    }\n\n    public get host(): string {\n        return this._host;\n    }\n\n    public open(): WebSocketChannel {\n        if (!this._web_socket) {\n            try {\n                this._web_socket = this.createWs();\n                if (this.handle(this._web_socket)) {\n                    this._initialized = true;\n                } else {\n                    this._initialized = false;\n                }\n            } catch (err) {\n                console.error('WebSocketChannel.open', err);\n            }\n        }\n        return this;\n    }\n\n    public close(): void {\n        try {\n            if (this._active) {\n                this._initialized = false;\n                this._active = false;\n                // close and free socket\n                this.free();\n            }\n        } catch (err) {\n            console.error('WebSocketChannel.close', err);\n        }\n    }\n\n    public send(message: any, callback?: any) {\n        try {\n            if (this._active\n                && !!this._web_socket\n                && this._web_socket.readyState === this._web_socket.OPEN) {\n\n                if (!!callback) {\n                    const callback_uuid: string = random.guid();\n                    message[FLD_REQUEST_UUID] = callback_uuid;\n                    this._callback_pool[callback_uuid] = callback;\n                    // set timeout\n                    lang.funcDelay(() => {\n                        delete this._callback_pool[callback_uuid];\n                        console.debug(\"WebSocketChannel.send\", \"timeout removed \" + callback_uuid);\n                    }, FLD_REQUEST_UUID_TIMEOUT);\n                }\n                // ready to send\n                this._web_socket.send(lang.toString(message));\n            } else {\n                console.warn('WebSocketChannel.send',\n                    'Socket is not ready to send message.',\n                    this._web_socket, message);\n            }\n        } catch (err) {\n            console.error('WebSocketChannel.send', err);\n        }\n    }\n\n    // ------------------------------------------------------------------------\n    //                      p r i v a t e\n    // ------------------------------------------------------------------------\n\n    private createWs(): WebSocket {\n        const WS_native: any = lang.window['WebSocket'] || lang.window['MozWebSocket'];\n        return new WS_native(this._host);\n    }\n\n    private free(): void {\n        if (!!this._web_socket) {\n            try {\n                this._web_socket.close();\n            } catch (err) {\n                console.debug(\"WebSocketChannel.free\", err);\n            }\n            this._web_socket = null;\n        }\n    }\n\n    private handle(ws: WebSocket): boolean {\n        if (!!ws) {\n            ws.onmessage = this._on_message.bind(this);\n            ws.onopen = this._on_open.bind(this);\n            ws.onclose = this._on_close.bind(this);\n            ws.onerror = this._on_error.bind(this);\n\n            return true;\n        } else {\n            console.warn('WebSocketChannel.handle', 'WebSocket not found', ws);\n            return false;\n        }\n    }\n\n    private _on_open(ev: Event): void {\n        this._active = true;\n        this.emit(EVENT_OPEN);\n    }\n\n    private _on_close(ev: CloseEvent): void {\n        this._active = false;\n        this.emit(EVENT_CLOSE);\n    }\n\n    private _on_message(ev: MessageEvent): void {\n        try {\n            const origin: string = ev.origin;\n            const ports: any = ev.ports;\n            const data: any = lang.parse(ev.data);\n            if (!!data[FLD_REQUEST_UUID]) {\n                const callback_uuid: string = data[FLD_REQUEST_UUID];\n                if (!!this._callback_pool[callback_uuid]) {\n                    const f: any = this._callback_pool[callback_uuid];\n                    if (lang.isFunction(f)) {\n                        f(data);\n                    }\n                }\n                // remove\n                delete this._callback_pool[callback_uuid];\n                data[FLD_REQUEST_UUID_HANDLED] = true;\n            }\n            this.emit(EVENT_MESSAGE, data);\n        } catch (err) {\n            console.error(\"WebSocketChannel._on_message\", err);\n        }\n    }\n\n    private _on_error(ev: Event): void {\n        ev.preventDefault();\n        const str_err: string = lang.toString(ev);\n        console.error('WebSocketChannel._on_error', str_err);\n        this.emit(EVENT_ERROR, str_err);\n    }\n}\n\nexport {WebSocketChannel, EVENT_CLOSE, EVENT_MESSAGE, EVENT_OPEN, EVENT_ERROR}"],"sourceRoot":""}